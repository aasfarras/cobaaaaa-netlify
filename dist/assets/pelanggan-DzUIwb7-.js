import{t as S,r as d,j as e,T as h,G as t,C as E,o as J,A as O,I as F,J as L,H as x}from"./index-Bmk-jJbE.js";import{M as U,D as V,a as G,b as M}from"./index-BWHhlrDI.js";import{T as o}from"./TextField-B9kHxf_2.js";import{I as H,a as I}from"./IconKey-B-Kzdlmp.js";import{I as P}from"./IconEye-D05trRjC.js";import{B as m}from"./Button-DTBUEH1l.js";import{I as _}from"./IconPencil-SBfwfaLU.js";import{I as $}from"./IconTrash-zHTYpDOL.js";import"./MenuItem-Dzqz81Xr.js";import"./InputLabel-DwI7SkRm.js";import"./Menu-B6imUYm0.js";const te=()=>{const u=S(),[n,j]=d.useState([["1","Agus","agus@gmail.com","08123456789","Laki-laki","https://via.placeholder.com/100","2000-01-01","1234567890123456","Provinsi A, Kabupaten A, Kecamatan A, Desa A, Jalan A","Referal A","password123"],["2","Budi","budi@gmail.com","08129876543","Laki-laki","https://via.placeholder.com/100","2001-02-02","2345678901234567","Provinsi B, Kabupaten B, Kecamatan B, Desa B, Jalan B","Referal B","password456"]]),[D,p]=d.useState(!1),[l,C]=d.useState(""),[g,k]=d.useState(null),[s,f]=d.useState({name:"",email:"",phone:"",gender:"",photo:"",dob:"",nik:"",address:"",referral:"",password:""}),[b,v]=d.useState(!1),y=a=>{C("Read"),k(n[a]),f({name:n[a][1],email:n[a][2],phone:n[a][3],gender:n[a][4],photo:n[a][5],dob:n[a][6],nik:n[a][7],address:n[a][8],referral:n[a][9],password:n[a][10]}),p(!0)},A=a=>{C("Update"),k(n[a]),f({name:n[a][1],email:n[a][2],phone:n[a][3],gender:n[a][4],photo:n[a][5],dob:n[a][6],nik:n[a][7],address:n[a][8],referral:n[a][9],password:n[a][10]}),p(!0)},T=a=>{const r=n.filter((c,K)=>K!==a);j(r)},w=a=>{const r=n[a][1];alert(`Reset kata sandi untuk ${r}`)},R=()=>{p(!1),v(!1)},N=()=>{if(l==="Create"){const a=[...n,[(n.length+1).toString(),s.name,s.email,s.phone,s.gender,s.photo,s.dob,s.nik,s.address,s.referral,s.password]];j(a)}else if(l==="Update"){const a=n.map((r,c)=>c===n.indexOf(g)?[g[0],s.name,s.email,s.phone,s.gender,s.photo,s.dob,s.nik,g[8],g[9],s.password]:r);j(a)}p(!1)},i=a=>{const{name:r,value:c}=a.target;f({...s,[r]:c})},B=()=>{v(!b)},W=[{name:"No",label:"No"},{name:"Nama Pelanggan",label:"Nama Pelanggan"},{name:"email",label:"email"},{name:"No.Telp",label:"No.Telp"},{name:"Jenis Kelamin",label:"Jenis Kelamin"},{name:"Aksi",label:"Aksi",options:{filter:!1,sort:!1,empty:!0,customBodyRender:(a,r,c)=>e.jsxs(e.Fragment,{children:[e.jsx(x,{title:"Detail",children:e.jsx(m,{onClick:()=>y(r.rowIndex),sx:{color:u.palette.success.dark},children:e.jsx(P,{})})}),e.jsx(x,{title:"Edit",children:e.jsx(m,{onClick:()=>A(r.rowIndex),sx:{color:u.palette.warning.main},children:e.jsx(_,{})})}),e.jsx(x,{title:"Delete",children:e.jsx(m,{onClick:()=>T(r.rowIndex),sx:{color:u.palette.error.main},children:e.jsx($,{})})}),e.jsx(x,{title:"Reset Password",children:e.jsx(m,{onClick:()=>w(r.rowIndex),sx:{color:u.palette.info.main},children:e.jsx(I,{})})})]})}}];return e.jsxs(e.Fragment,{children:[e.jsx(U,{title:e.jsx(h,{variant:"h4",children:"Manajemen Pelanggan"}),search:!1,data:n,columns:W,options:{selectableRows:"none",elevation:0,rowsPerPage:10,rowsPerPageOptions:[5,10,20,50,100]}}),e.jsxs(V,{open:D,onClose:R,maxWidth:"md",fullWidth:!0,children:[e.jsx(G,{children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,md:4,children:l==="Read"&&e.jsx(E,{children:e.jsxs(J,{children:[e.jsx(O,{alt:"Profile Picture",src:s.photo,sx:{width:100,height:100,mb:2}}),e.jsxs(h,{variant:"h6",children:["Nama: ",s.name]}),e.jsxs(h,{variant:"body1",children:["Email: ",s.email]}),e.jsxs(h,{variant:"body1",children:["No Telp: ",s.phone]}),e.jsxs(h,{variant:"body1",children:["Jenis Kelamin: ",s.gender]})]})})}),e.jsx(t,{item:!0,xs:12,md:8,children:e.jsx("form",{noValidate:!0,autoComplete:"off",children:e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{margin:"dense",label:"Nama",name:"name",fullWidth:!0,value:s.name,onChange:i,disabled:l==="Read"})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{margin:"dense",label:"Email",name:"email",type:"email",fullWidth:!0,value:s.email,onChange:i,disabled:l==="Read"})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{margin:"dense",label:"No Telp",name:"phone",fullWidth:!0,value:s.phone,onChange:i,disabled:l==="Read"})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{margin:"dense",label:"Jenis Kelamin",name:"gender",fullWidth:!0,value:s.gender,onChange:i,disabled:l==="Read"})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{margin:"dense",label:"Tanggal Lahir",name:"dob",type:"date",fullWidth:!0,value:s.dob,onChange:i,disabled:l==="Read",InputLabelProps:{shrink:!0}})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{margin:"dense",label:"NIK",name:"nik",fullWidth:!0,value:s.nik,onChange:i,disabled:l==="Read"})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{margin:"dense",label:"Alamat",name:"address",fullWidth:!0,value:s.address,onChange:i,disabled:l==="Read"})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{margin:"dense",label:"Referal",name:"referral",fullWidth:!0,value:s.referral,onChange:i,disabled:l==="Read"})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{margin:"dense",label:"Password",name:"password",fullWidth:!0,value:s.password,onChange:i,type:b?"text":"password",disabled:l==="Read",InputProps:{endAdornment:e.jsx(F,{position:"end",children:e.jsx(L,{onClick:B,children:b?e.jsx(H,{}):e.jsx(P,{})})})}})})]})})})]})}),e.jsxs(M,{children:[l!=="Read"&&e.jsx(m,{onClick:N,color:"primary",children:"Save"}),e.jsx(m,{onClick:R,color:"secondary",children:"Cancel"})]})]})]})};export{te as default};
