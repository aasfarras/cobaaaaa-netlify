import{t as E,r as o,j as e,M as U,v as j,T as P,H as v}from"./index-Bmk-jJbE.js";import{M as W,D as A,a as B,b as M}from"./index-BWHhlrDI.js";import{B as n}from"./Button-DTBUEH1l.js";import{T as d}from"./TextField-B9kHxf_2.js";import{I as w}from"./IconEye-D05trRjC.js";import{I as H}from"./IconPencil-SBfwfaLU.js";import{I as J}from"./IconTrash-zHTYpDOL.js";import"./MenuItem-Dzqz81Xr.js";import"./InputLabel-DwI7SkRm.js";import"./Menu-B6imUYm0.js";const D={display:"flex",overflowX:"auto",gap:"10px",padding:"10px 0"},V=()=>{const c=E(),[i,k]=o.useState([{images:["https://via.placeholder.com/150","https://via.placeholder.com/150","https://via.placeholder.com/150"],name:"Produk A",kategori:"Elektronik",subKategori:"Smartphone",harga:"Rp. 5.000.000",terjual:"50",rating:"4.5"}]),[y,u]=o.useState(!1),[s,p]=o.useState(""),[C,b]=o.useState(null),[t,r]=o.useState({}),[h,m]=o.useState([]),I=a=>{p("Detail"),b(a),r(i[a]),m(i[a].images),u(!0)},S=a=>{p("Update"),b(a),r({...i[a]}),m(i[a].images),u(!0)},T=a=>{const l=i.filter((f,g)=>g!==a);k(l)},x=()=>{u(!1),m([])},K=()=>{const a=[...i];s==="Create"?a.push({...t,images:h}):s==="Update"&&(a[C]={...t,images:h}),k(a),x()},O=a=>{const l=Array.from(a.target.files),f=l.map(g=>URL.createObjectURL(g));m(f),r(g=>({...g,images:l}))},F=[{name:"images",label:"Foto Produk",options:{customBodyRender:(a,l)=>e.jsx("img",{src:i[l.rowIndex].images[0],alt:"Foto Produk",style:{width:100,height:100,objectFit:"cover"}})}},{name:"name",label:"Nama Produk"},{name:"kategori",label:"Kategori Produk"},{name:"subKategori",label:"Sub Kategori Produk"},{name:"harga",label:"Harga"},{name:"terjual",label:"Jumlah Terjual"},{name:"Actions",label:"Actions",options:{filter:!1,sort:!1,empty:!0,customBodyRender:(a,l)=>e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx(v,{title:"Detail",children:e.jsx(n,{onClick:()=>I(l.rowIndex),sx:{color:c.palette.success.dark},children:e.jsx(w,{})})}),e.jsx(v,{title:"Edit",children:e.jsx(n,{onClick:()=>S(l.rowIndex),sx:{color:c.palette.primary.main},children:e.jsx(H,{})})}),e.jsx(v,{title:"Delete",children:e.jsx(n,{onClick:()=>T(l.rowIndex),sx:{color:c.palette.error.main},children:e.jsx(J,{})})})]})}}];return e.jsxs(U,{title:"Manajemen Produk",children:[e.jsx(W,{title:e.jsx(n,{onClick:()=>{p("Create"),r({images:[],name:"",kategori:"",subKategori:"",harga:"",terjual:"",rating:""}),m([]),u(!0)},variant:"contained",children:"Tambah Produk"}),data:i,columns:F,options:{selectableRows:"none",elevation:0,rowsPerPage:10,rowsPerPageOptions:[5,10,20,50,100]}}),e.jsxs(A,{open:y,onClose:x,children:[e.jsx(B,{children:e.jsxs(j,{children:[e.jsx(P,{variant:"h6",children:s==="Detail"?"Detail Produk":"Form Produk"}),e.jsx(d,{margin:"dense",label:"Nama Produk",name:"name",fullWidth:!0,value:(t==null?void 0:t.name)||"",InputProps:{readOnly:s==="Detail"},onChange:a=>r({...t,name:a.target.value})}),e.jsx(d,{margin:"dense",label:"Kategori Produk",name:"kategori",fullWidth:!0,value:(t==null?void 0:t.kategori)||"",InputProps:{readOnly:s==="Detail"},onChange:a=>r({...t,kategori:a.target.value})}),e.jsx(d,{margin:"dense",label:"Sub Kategori Produk",name:"subKategori",fullWidth:!0,value:(t==null?void 0:t.subKategori)||"",InputProps:{readOnly:s==="Detail"},onChange:a=>r({...t,subKategori:a.target.value})}),e.jsx(d,{margin:"dense",label:"Harga",name:"harga",fullWidth:!0,value:(t==null?void 0:t.harga)||"",InputProps:{readOnly:s==="Detail"},onChange:a=>r({...t,harga:a.target.value})}),e.jsx(d,{margin:"dense",label:"Jumlah Terjual",name:"terjual",fullWidth:!0,value:(t==null?void 0:t.terjual)||"",InputProps:{readOnly:s==="Detail"},onChange:a=>r({...t,terjual:a.target.value})}),e.jsx(d,{margin:"dense",label:"Rating",name:"rating",fullWidth:!0,value:(t==null?void 0:t.rating)||"",InputProps:{readOnly:s==="Detail"},onChange:a=>r({...t,rating:a.target.value})}),s==="Detail"&&t.images&&e.jsx(j,{sx:D,children:t.images.map((a,l)=>e.jsx("img",{src:a,alt:`Detail ${l}`,style:{width:100,height:100,objectFit:"cover"}},l))}),s!=="Detail"&&e.jsxs(e.Fragment,{children:[e.jsx(P,{variant:"body1",sx:{mt:2},children:"Upload Gambar Produk:"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:O,style:{marginTop:"10px"}}),e.jsx(j,{sx:D,children:h.map((a,l)=>e.jsx("img",{src:a,alt:`Preview ${l}`,style:{width:100,height:100,objectFit:"cover"}},l))})]})]})}),e.jsxs(M,{children:[e.jsx(n,{onClick:x,children:"Cancel"}),e.jsx(n,{onClick:K,children:"Save"})]})]})]})};export{V as default};
