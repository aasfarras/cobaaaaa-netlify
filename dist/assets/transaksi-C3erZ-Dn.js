import{t as v,r as i,j as e,T as b,v as h,H as P}from"./index-Bmk-jJbE.js";import{M as R,D as B,a as D,b as T}from"./index-BWHhlrDI.js";import{T as m}from"./TextField-B9kHxf_2.js";import{B as u}from"./Button-DTBUEH1l.js";import{I as w}from"./IconEye-D05trRjC.js";import"./MenuItem-Dzqz81Xr.js";import"./InputLabel-DwI7SkRm.js";import"./Menu-B6imUYm0.js";const O=()=>{const p=v(),[o,g]=i.useState([{kode:"1",namaProduk:"Produk A",namaCustomer:"Budi",jumlahBeli:"2",transaksi:"200000",images:["https://via.placeholder.com/150"]},{kode:"2",namaProduk:"Produk B",namaCustomer:"Andi",jumlahBeli:"1",transaksi:"150000",images:["https://via.placeholder.com/150"]}]),[x,d]=i.useState(!1),[n,j]=i.useState(""),[r,k]=i.useState(null),[t,l]=i.useState({name:"",company:"",city:"",state:""}),y=a=>{j("Read"),k(a);const s=o[a];l({name:s.namaProduk,company:s.namaCustomer,city:s.jumlahBeli,state:s.transaksi}),d(!0)},c=()=>{d(!1)},f=()=>{const a=[...o];n==="Create"?a.push({kode:(o.length+1).toString(),namaProduk:t.name,namaCustomer:t.company,jumlahBeli:t.city,transaksi:t.state,images:[]}):n==="Update"&&(a[r]={...a[r],namaProduk:t.name,namaCustomer:t.company,jumlahBeli:t.city,transaksi:t.state}),g(a),d(!1)},C=[{name:"images",label:"Foto Produk",options:{customBodyRender:(a,s)=>e.jsx(h,{sx:{display:"flex",justifyContent:"center"},children:o[s.rowIndex].images.length>0&&e.jsx("img",{src:o[s.rowIndex].images[0],alt:"Foto Produk",style:{width:100,height:100,objectFit:"cover"}})})}},{name:"kode",label:"Kode Produk"},{name:"namaProduk",label:"Nama Produk"},{name:"namaCustomer",label:"Nama Customer"},{name:"jumlahBeli",label:"Jumlah beli"},{name:"transaksi",label:"Transaksi"},{name:"Actions",label:"Actions",options:{filter:!1,sort:!1,empty:!0,customBodyRender:(a,s)=>e.jsx("div",{style:{display:"flex",gap:"10px"},children:e.jsx(P,{title:"Read",children:e.jsx(u,{onClick:()=>y(s.rowIndex),sx:{color:p.palette.success.dark},children:e.jsx(w,{})})})})}}];return e.jsxs("div",{children:[e.jsx(R,{title:e.jsx(b,{variant:"h3",sx:{fontWeight:500},children:"Transaksi"}),data:o,columns:C,options:{selectableRows:"none",elevation:0,rowsPerPage:10,rowsPerPageOptions:[5,10,20,50,100]}}),e.jsxs(B,{open:x,onClose:c,children:[e.jsxs(D,{children:[e.jsx(m,{margin:"dense",label:"Nama Produk",name:"name",fullWidth:!0,value:t.name,onChange:a=>l({...t,name:a.target.value}),disabled:n==="Read"}),e.jsx(m,{margin:"dense",label:"Nama Customer",name:"company",fullWidth:!0,value:t.company,onChange:a=>l({...t,company:a.target.value}),disabled:n==="Read"}),e.jsx(m,{margin:"dense",label:"Jumlah Beli",name:"city",fullWidth:!0,value:t.city,onChange:a=>l({...t,city:a.target.value}),disabled:n==="Read"}),e.jsx(m,{margin:"dense",label:"Transaksi",name:"state",fullWidth:!0,value:t.state,onChange:a=>l({...t,state:a.target.value}),disabled:n==="Read"}),n==="Read"&&o[r].images.length>0&&e.jsx(h,{sx:{display:"flex",justifyContent:"center",mt:2},children:e.jsx("img",{src:o[r].images[0],alt:"Detail",style:{width:100,height:100,objectFit:"cover"}})})]}),e.jsxs(T,{children:[e.jsx(u,{onClick:c,color:"primary",children:"Cancel"}),n!=="Read"&&e.jsx(u,{onClick:f,color:"primary",children:"Save"})]})]})]})};export{O as default};
